{"opened file":[{"fileName":"TestClassLoader.java","data":"package sample.jvm.classloader;\n\nimport sun.misc.Launcher;\nimport sun.misc.URLClassPath;\nimport sun.net.spi.nameservice.dns.DNSNameService;\n\nimport java.net.URL;\n\n\/**\n * @author vonline\n * @since 2022-07-24 0:39\n *\/\npublic class TestClassLoader {\n\n    public static void main(String[] args) {\n        \/\/test4();\n        test6();\n    }\n\n    public static void test1() {\n        \/\/ DNSNameService类位于 JAVA_HOME\/jre\/lib\/ext\/dnsns.jar\n        ClassLoader classLoader = DNSNameService.class.getClassLoader();\n        System.out.println(classLoader); \/\/sun.misc.Launcher$ExtClassLoader@70dea4e\n        String extDirs = System.getProperty(\"java.ext.dirs\");\n        for (String path : extDirs.split(\";\")) {\n            System.out.println(path);\n        }\n        \/\/D:\\Develop\\Environment\\JDK\\jdk8u301\\jre\\lib\\ext\n        \/\/C:\\WINDOWS\\Sun\\Java\\lib\\ext\n    }\n\n    public static void test2() {\n        ClassLoader classLoader = DNSNameService.class.getClassLoader();\n        ClassLoader parent = classLoader.getParent();\n        System.out.println(parent); \/\/ null\n    }\n\n    public static void test6() {\n        Launcher launcher = Launcher.getLauncher();\n        ClassLoader classLoader = launcher.getClassLoader();\n        System.out.println(classLoader); \/\/ sun.misc.Launcher$AppClassLoader@18b4aac2\n        \/\/ 获取BootstrapClassLoader能够加载的URL路径\n        URLClassPath urlClassPath = Launcher.getBootstrapClassPath();\n        for (URL url : urlClassPath.getURLs()) {\n            System.out.println(url);\n        }\n    }\n\n    public static void test3() {\n        ClassLoader systemClassLoader = ClassLoader.getSystemClassLoader();\n        ClassLoader appClassLoader = TestClassLoader.class.getClassLoader();\n        \/\/ true => 我们自己写的的Java应用的类都是由它来完成加载\n        System.out.println(systemClassLoader == appClassLoader);\n        ClassLoader extClassLoader = DNSNameService.class.getClassLoader();\n        ClassLoader appParent = appClassLoader.getParent();\n        \/\/ true => 父类加载器为扩展类加载器\n        System.out.println(appParent == extClassLoader);\n        \/\/ sun.misc.Launcher$AppClassLoader@73d16e93\n        System.out.println(appClassLoader);\n\/\/ Eclipse中是项目根路径下的目录：..\\jvm-sample\\bin\n\/\/ Idea中除了程序的路径，输出还包括其他加载路径\n        String extDirs = System.getProperty(\"java.class.path\");\n        for (String path : extDirs.split(\";\")) {\n            System.out.println(path);\n        }\n    }\n\n    public static void test4() {\n        System.out.println();\n    }\n}","saved":true,"filePath":"D:\\Develop\\Code\\code-samples\\java\\javase-samples\\java8-samples\\src\\main\\java\\sample\\jvm\\classloader\\TestClassLoader.java","opened":true,"contentType":"textFile"}],"opened folder":"E:\\Coding\\TextEditor"}